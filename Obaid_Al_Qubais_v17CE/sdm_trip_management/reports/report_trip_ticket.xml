<odoo>
    <data>
        <template id="report_trip_ticket_template">
            <t t-call="web.external_layout">
                <main style="font-size: 13px; padding: 0mm 10mm 0mm 10mm;">
                    <t t-foreach="docs" t-as="doc">
                        <div class="page" style="page-break-after: always;">
                            <div style="text-align:center; font-size: 16px; font-weight: bold; margin-top: 10px;">
                                Trip Ticket
                            </div>
                            <div style="text-align:right; font-size: 14px; font-weight: bold; margin-top:5px;">
                                No.
                                <t t-esc="doc.name or ''"/>
                            </div>

                            <!-- Two Column Data Table -->
                            <table style="width:100%; margin-top: 10px; border-collapse: collapse;" border="1">
                                <tr>
                                    <td style="width:25%; padding:5px;">
                                        <strong>Date</strong>
                                    </td>
                                    <td style="width:75%; padding:5px;">
                                        <t t-esc="doc.date or ''"/>
                                    </td>
                                </tr>
                                <tr>
                                    <td style="padding:5px;">
                                        <strong>Client</strong>
                                    </td>
                                    <td style="padding:5px;">
                                        <t t-esc="doc.customer_id.name or ''"/>
                                    </td>
                                </tr>
                                <tr>
                                    <td style="padding:5px;">
                                        <strong>Tel</strong>
                                    </td>
                                    <td style="padding:5px;">
                                        <t t-esc="doc.customer_id.phone or ''"/>
                                    </td>
                                </tr>
                                <tr>
                                    <td style="padding:5px;">
                                        <strong>Job Location</strong>
                                    </td>
                                    <td style="padding:5px;">
                                        <t t-esc="doc.route or ''"/>
                                    </td>
                                </tr>
                                <tr>
                                    <td style="padding:5px;">
                                        <strong>Plate No</strong>
                                    </td>
                                    <td style="padding:5px;">
                                        <t t-esc="doc.vehicle_id.license_plate or doc.vehicle_id.name or ''"/>
                                    </td>
                                </tr>
                                <tr>
                                    <td style="padding:5px;">
                                        <strong>Equipment</strong>
                                    </td>
                                    <td style="padding:5px;">
                                        <t t-esc="doc.vehicle_id.model_id.name or ''"/>
                                    </td>
                                </tr>
                                <tr>
                                    <td style="padding:5px;">
                                        <strong>Driverâ€™s Name</strong>
                                    </td>
                                    <td style="padding:5px;">
                                        <t t-esc="doc.driver_id.name or ''"/>
                                    </td>
                                </tr>
                                <tr>
                                    <td style="padding:5px;">
                                        <strong>Type of Work</strong>
                                    </td>
                                    <td style="padding:5px;">
                                        <t t-esc="doc.type_of_work or ''"/>
                                    </td>
                                </tr>
                            </table>

                            <!-- Time and Hours -->
                            <table style="width:100%; margin-top: 10px; border-collapse: collapse;" border="1">
                                <tr>
                                    <td style="width: 33.3%; padding:5px;">
                                        <strong>Time Started</strong>
                                    </td>
                                    <td style="width: 33.3%; padding:5px;">
                                        <strong>Time Finished</strong>
                                    </td>
                                    <td style="width: 33.3%; padding:5px;">
                                        <strong>Total Hours</strong>
                                    </td>
                                </tr>
                                <tr>
                                    <td style="padding:5px;">
                                        <t t-esc="doc.start_time or ''"/>
                                    </td>
                                    <td style="padding:5px;">
                                        <t t-esc="doc.end_time or ''"/>
                                    </td>
                                    <td style="padding:5px;">
                                        <t t-if="doc.start_time and doc.end_time">
                                            <t t-set="delta"
                                               t-value="(doc.end_time - doc.start_time).total_seconds() / 3600"/>
                                            <t t-esc="round(delta, 2)"/>
                                        </t>
                                        <t t-if="not (doc.start_time and doc.end_time)">-</t>
                                    </td>
                                </tr>
                            </table>

                            <!-- Rate Basic -->
                            <table style="width:100%; margin-top:10px; border-collapse: collapse;" border="1">
                                <tr>
                                    <td style="width:25%; padding:5px;">
                                        <strong>Rate Basic</strong>
                                    </td>
                                    <td style="width:75%; padding:5px;">
                                        <t t-esc="doc.charge_amount or ''"/>
                                        <t t-esc="doc.currency_id.symbol or ''"/>
                                    </td>
                                </tr>
                            </table>

                            <!-- Remarks -->
                            <table style="width:100%; margin-top:10px; border-collapse: collapse;" border="1">
                                <tr>
                                    <td style="padding:5px;">
                                        <strong>Remarks</strong>
                                    </td>
                                </tr>
                                <tr>
                                    <td style="height: 50px; padding: 20px;">
                                        <t t-esc="doc.remarks or ''"/>
                                    </td>
                                </tr>
                            </table>
                            <td style="width: 50%; vertical-align: top;">
                                <div style="text-align: right; padding-top: 20px;">
                                    ___________________________
                                    <br/>
                                    Authorized Signature
                                </div>
                            </td>
                        </div>
                    </t>
                </main>
            </t>
        </template>
    </data>
</odoo>
